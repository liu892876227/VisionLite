<!-- ROIToolWindow.xaml -->
<Window x:Class="VisionLite.ROIToolWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:VisionLite"
        xmlns:ha="clr-namespace:HalconDotNet;assembly=halcondotnet"
        xmlns:xctk="http://schemas.xceed.com/wpf/xaml/toolkit"
        mc:Ignorable="d"
        Title="ROI 编辑工具" Height="600" Width="800"
        WindowStartupLocation="CenterOwner"
        ShowInTaskbar="False"
        Closing="Window_Closing">
    <Grid Margin="10">
        <Grid.RowDefinitions>
            <!-- 用于显示图像的HSmartWindowControlWPF -->
            <RowDefinition Height="*"/>
            <!-- 用于放置ROI工具的控制面板 -->
            <RowDefinition Height="Auto"/>
            <!-- 用于放置“确定”和“取消”按钮 -->
            <RowDefinition Height="Auto"/>
            <!-- 状态栏 -->
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <!-- 图像显示区域 -->
        <Border Grid.Row="0" BorderBrush="Gray" BorderThickness="1">
            <ha:HSmartWindowControlWPF x:Name="HSmartROI" HKeepAspectRatio="True"/>
        </Border>

        <!-- ROI 控制面板 -->
        <GroupBox Grid.Row="1" Header="ROI 设置" Margin="0,10,0,0">
            <StackPanel Margin="5">
                <!-- ROI 形状选择 -->
                <StackPanel Orientation="Horizontal" Margin="0,5,0,5">
                    <Label Content="ROI 形状:" VerticalAlignment="Center" Width="80"/>
                    <ComboBox x:Name="RoiTypeComboBox" Width="150" VerticalAlignment="Center" SelectionChanged="RoiTypeComboBox_SelectionChanged">
                        <ComboBoxItem Content="矩形 (Rectangle)"/>
                        <ComboBoxItem Content="带角度矩形 (Rectangle2)"/>
                        <ComboBoxItem Content="圆形 (Circle)"/>
                        <ComboBoxItem Content="椭圆 (Ellipse)"/>
                        <ComboBoxItem Content="直线 (Line)"/>
                    </ComboBox>
                </StackPanel>

                <!-- ROI 参数显示和编辑区域 -->
                <GroupBox Header="参数详情" Margin="0,5,0,0">
                    <!-- 这个StackPanel将用于动态显示不同ROI的参数，如坐标、半径等 -->
                    <StackPanel x:Name="ParametersPanel" Margin="5">
                        <TextBlock Text="请先在上方选择一种ROI形状，然后可在图像窗口中绘制。" Foreground="Gray"/>
                    </StackPanel>
                </GroupBox>
            </StackPanel>
        </GroupBox>

        <!-- 底部按钮栏 -->
        <StackPanel Grid.Row="2" Orientation="Horizontal" HorizontalAlignment="Right" Margin="0,15,0,0">
            <Button x:Name="SaveROIImageButton" 
                    Content="保存图像" 
                    Width="80" 
                    Margin="0,0,20,0" 
                    Click="SaveROIImageButton_Click"
                    IsEnabled="False"/>

            <Button x:Name="OkButton" Content="确定" Width="80" Margin="10,0,0,0" IsDefault="True" Click="OkButton_Click"/>
            <Button x:Name="CancelButton" Content="取消" Width="80" Margin="10,0,0,0" IsCancel="True" Click="CancelButton_Click"/>
        </StackPanel>

        <!-- 状态栏 -->
        <StatusBar Grid.Row="3" Margin="0,5,0,0">
            <StatusBarItem>
                <TextBlock x:Name="StatusTextBlock" Text="准备就绪"/>
            </StatusBarItem>
        </StatusBar>
    </Grid>
</Window>