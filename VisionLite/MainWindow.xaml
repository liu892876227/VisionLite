<Window 
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:VisionLite"
        xmlns:ha="clr-namespace:HalconDotNet;assembly=halcondotnet" x:Class="VisionLite.MainWindow"
        mc:Ignorable="d"
        Title="VisionLite" Height="800" Width="1700"
        Closing="Window_Closing"
        WindowStartupLocation="CenterScreen"
        MinHeight="300" MinWidth="500">
    <!--首界面布局，共两行，第一行共两列；第二行共三列；第一行第二列分为两行-->

    <!-- 添加资源字典引用 -->
    <Window.Resources>
        <ResourceDictionary>
            <!-- 先定义本地资源 -->
            <BooleanToVisibilityConverter x:Key="BooleanToVisibilityConverter" />
        </ResourceDictionary>
    </Window.Resources>

    <Grid ShowGridLines="True">
        <Grid.RowDefinitions>
            <!--软件图标、菜单栏和快捷工具条-->
            <RowDefinition Height="50"/>
            <!--模块箱和图像显示区域-->
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>

        <Grid ShowGridLines="True" Grid.Row="0" Grid.Column="0">
            <Grid.ColumnDefinitions>
                <!--软件图标-->
                <ColumnDefinition Width="150"/>
                <!--菜单栏和快捷工具条-->
                <ColumnDefinition Width="*"/>
            </Grid.ColumnDefinitions>

            <Grid ShowGridLines="True" Grid.Row="0" Grid.Column="1">
                <Grid.RowDefinitions>
                    <!--菜单栏-->
                    <RowDefinition Height="25"/>
                    <!--快捷工具条-->
                    <RowDefinition Height="25"/>
                </Grid.RowDefinitions>
                <!-- 快捷工具条 -->
                <Border Grid.Row="1" Background="#FF4F4F4F">
                    <StackPanel Orientation="Horizontal">
                        <!-- 相机管理按钮 -->
                        <Button x:Name="CameraManagementButton" 
                                Width="40" 
                                ToolTip="打开相机管理中心"
                                Click="CameraManagementButton_Click"
                                Style="{StaticResource {x:Static ToolBar.ButtonStyleKey}}">
                            <Button.Content>
                                <ContentPresenter Content="{StaticResource CameraIcon}"/>
                            </Button.Content>
                        </Button>

                        <!-- 分隔符 -->
                        <Separator Style="{StaticResource {x:Static ToolBar.SeparatorStyleKey}}" />

                       
                    </StackPanel>
                </Border>
            </Grid>
        </Grid>

        <Grid ShowGridLines="True" Grid.Row="1" Grid.Column="0">
            <Grid.ColumnDefinitions>
                <!--模块箱-->
                <ColumnDefinition Width="80"/>
                <!--图像显示区域和结果显示区域-->
                <ColumnDefinition Width="*"/>
            </Grid.ColumnDefinitions>

            <Grid ShowGridLines="True" Grid.Row="0" Grid.Column="1">
                <Grid.RowDefinitions>
                    <!--图像显示区域-->
                    <RowDefinition Height="*"/>

                    <!--状态栏-->
                    <RowDefinition Height="30"/>
                </Grid.RowDefinitions>

                <Grid ShowGridLines="True" Grid.Row="0" Grid.Column="0">
                    <Grid.RowDefinitions>
                        <!--图像显示区域的菜单栏-->
                        <RowDefinition Height="25"/>
                        <!--图像显示区域的图像缩放控制栏-->
                        <RowDefinition Height="25"/>
                        <!--图像显示区域的图像显示区域-->
                        <RowDefinition Height="*"/>

                    </Grid.RowDefinitions>

                    <!--实现固定四个图像显示窗口-->
                    <Grid ShowGridLines="True" Grid.Row="2" Grid.Column="0">
                        <Grid.RowDefinitions>
                            <RowDefinition Height="5*"/>
                            <RowDefinition Height="5*"/>
                        </Grid.RowDefinitions>

                        <Grid ShowGridLines="True" Grid.Row="0" Grid.Column="0">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="5*"/>
                                <ColumnDefinition Width="5*"/>
                            </Grid.ColumnDefinitions>

                            <!-- 用Border包裹HSmartWindowControlWPF -->
                            <Border x:Name="Border1" Grid.Column="0" BorderBrush="Gray" BorderThickness="1" Margin="1">
                                <ha:HSmartWindowControlWPF x:Name="HSmart1" HKeepAspectRatio="True" SizeChanged="DisplayWindow_SizeChanged"/>
                            </Border>

                            <Border x:Name="Border2" Grid.Column="1" BorderBrush="Gray" BorderThickness="1" Margin="1">
                                <ha:HSmartWindowControlWPF x:Name="HSmart2" HKeepAspectRatio="True" SizeChanged="DisplayWindow_SizeChanged"/>
                            </Border>
                        </Grid>

                        <Grid ShowGridLines="True" Grid.Row="1" Grid.Column="0">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="5*"/>
                                <ColumnDefinition Width="5*"/>
                            </Grid.ColumnDefinitions>

                            <!-- 用Border包裹HSmartWindowControlWPF -->
                            <Border x:Name="Border3" Grid.Column="0" BorderBrush="Gray" BorderThickness="1" Margin="1">
                                <ha:HSmartWindowControlWPF x:Name="HSmart3" HKeepAspectRatio="True" SizeChanged="DisplayWindow_SizeChanged"/>
                            </Border>

                            <Border x:Name="Border4" Grid.Column="1" BorderBrush="Gray" BorderThickness="1" Margin="1">
                                <ha:HSmartWindowControlWPF x:Name="HSmart4" HKeepAspectRatio="True" SizeChanged="DisplayWindow_SizeChanged"/>
                            </Border>
                        </Grid>
                    </Grid>
                </Grid>
                
                <!-- 状态栏 -->
                <StatusBar Grid.Row="1">
                    <StatusBarItem>
                        <TextBlock x:Name="StatusTextBlock" Text="准备就绪"/>
                    </StatusBarItem>

                    <!-- 在状态栏右侧添加ROI参数显示区域 -->
                    <StatusBarItem HorizontalAlignment="Right">
                        <Border>
                            <StackPanel x:Name="RoiParameterPanel" 
                                        Orientation="Horizontal" 
                                        Visibility="Collapsed"/>
                            <!-- 你可以移除 StackPanel 里的 VerticalAlignment="Center"，也可以保留，现在它不再重要 -->
                        </Border>
                    </StatusBarItem>
                </StatusBar>
            </Grid>
        </Grid>

    </Grid>
</Window>
