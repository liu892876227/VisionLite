<UserControl x:Class="VisionLite.Vision.UI.Controls.ImageDisplayControl"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             xmlns:ha="clr-namespace:HalconDotNet;assembly=halcondotnet"
             mc:Ignorable="d" 
             d:DesignHeight="400" d:DesignWidth="600">
    
    <UserControl.Resources>
        <Style x:Key="ImageInfoTextStyle" TargetType="TextBlock">
            <Setter Property="Foreground" Value="White"/>
            <Setter Property="Background" Value="#80000000"/>
            <Setter Property="Padding" Value="5,2"/>
            <Setter Property="FontSize" Value="12"/>
        </Style>
    </UserControl.Resources>
    
    <Grid>
        <!-- 背景 -->
        <Rectangle Fill="#FF2D2D30"/>
        
        <!-- Halcon图像显示控件 -->
        <ha:HSmartWindowControlWPF x:Name="HalconDisplay" 
                                   HorizontalAlignment="Stretch" 
                                   VerticalAlignment="Stretch"
                                   Background="#FF2D2D30"/>
        
        <!-- 无图像时的提示 -->
        <TextBlock x:Name="NoImageText" 
                   Text="无图像显示" 
                   HorizontalAlignment="Center" 
                   VerticalAlignment="Center"
                   FontSize="16" 
                   Foreground="Gray"
                   Visibility="Visible"/>
        
        <!-- 图像信息显示 -->
        <StackPanel x:Name="ImageInfoPanel" 
                    Orientation="Vertical" 
                    HorizontalAlignment="Left" 
                    VerticalAlignment="Top" 
                    Margin="10"
                    Visibility="Collapsed">
            
            <TextBlock x:Name="ImageSizeText" 
                       Style="{StaticResource ImageInfoTextStyle}"/>
            
            <TextBlock x:Name="ImageTypeText" 
                       Style="{StaticResource ImageInfoTextStyle}"/>
            
            <!-- 暂时隐藏缩放信息 -->
            <!--<TextBlock x:Name="ZoomLevelText" 
                       Style="{StaticResource ImageInfoTextStyle}"/>-->
                       
        </StackPanel>
        
        <!-- 右键菜单定义 -->
        <Grid.ContextMenu>
            <ContextMenu>
                <MenuItem Header="适合窗口" x:Name="FitToWindowMenuItem" Click="FitToWindow_Click"/>
                <MenuItem Header="原始大小" x:Name="OriginalSizeMenuItem" Click="OriginalSize_Click"/>
                <Separator/>
                <MenuItem Header="保存图像" x:Name="SaveImageMenuItem" Click="SaveImage_Click"/>
                <MenuItem Header="复制图像" x:Name="CopyImageMenuItem" Click="CopyImage_Click"/>
            </ContextMenu>
        </Grid.ContextMenu>
    </Grid>
    
</UserControl>